"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.passertOrTrace = exports.passert = void 0;
var types_1 = require("../../type_system/types.js");
var bool_1 = require("../builtins/bool/index.js");
var ptrace_1 = require("../builtins/ptrace.js");
var perror_1 = require("../perror.js");
var pfn_1 = require("../pfn.js");
var phoist_1 = require("../phoist.js");
var pmakeUnit_1 = require("./unit/pmakeUnit.js");
exports.passert = (0, phoist_1.phoist)((0, pfn_1.pfn)([types_1.bool], types_1.unit)(function (condition) { return (0, bool_1.pif)(types_1.unit).$(condition).then((0, pmakeUnit_1.pmakeUnit)()).else((0, perror_1.perror)(types_1.unit)); }));
exports.passertOrTrace = (0, phoist_1.phoist)((0, pfn_1.pfn)([types_1.str, types_1.bool], types_1.unit)(function (msg, condition) {
    return (0, bool_1.pif)(types_1.unit).$(condition)
        .then((0, pmakeUnit_1.pmakeUnit)())
        .else((0, ptrace_1.ptraceError)(types_1.unit).$(msg));
}));

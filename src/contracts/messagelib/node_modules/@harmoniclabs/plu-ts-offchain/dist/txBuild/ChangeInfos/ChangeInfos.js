"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.cloneChangeInfos = exports.normalizeChangeInfos = void 0;
var cardano_ledger_ts_1 = require("@harmoniclabs/cardano-ledger-ts");
var CanBeData_1 = require("../../utils/CanBeData.js");
function normalizeChangeInfos(change) {
    return {
        address: typeof change.address === "string" ? cardano_ledger_ts_1.Address.fromString(change.address) : change.address.clone(),
        datum: change.datum ? ((0, cardano_ledger_ts_1.canBeHash32)(change.datum) ?
            new cardano_ledger_ts_1.Hash32(change.datum) :
            (0, CanBeData_1.forceData)(change.datum)) :
            undefined,
        refScript: change.refScript ? change.refScript.clone() : undefined
    };
}
exports.normalizeChangeInfos = normalizeChangeInfos;
function cloneChangeInfos(change) {
    return {
        address: change.address.toString(),
        datum: change.datum ? ((0, cardano_ledger_ts_1.canBeHash32)(change.datum) ?
            new cardano_ledger_ts_1.Hash32(change.datum) :
            (0, CanBeData_1.cloneCanBeData)(change.datum)) :
            undefined,
        refScript: change.refScript ? change.refScript.clone() : undefined
    };
}
exports.cloneChangeInfos = cloneChangeInfos;

import { ToCbor, CborString, CborObj, CanBeCborString, SubCborRef } from "@harmoniclabs/cbor";
import { PubKeyHash } from "../../credentials/index.js";
import { AuxiliaryDataHash, ScriptDataHash, Hash32 } from "../../hashes/index.js";
import { Coin, TxWithdrawals, ITxWithdrawals, LegacyPPUpdateProposal, Value, NetworkT, Certificate } from "../../ledger/index.js";
import { ToJson } from "../../utils/ToJson.js";
import { CanBeUInteger } from "../../utils/ints.js";
import { UTxO, TxOut } from "./output/index.js";
import { IVotingProcedures, VotingProcedures } from "../../governance/VotingProcedures.js";
import { IProposalProcedure, ProposalProcedure } from "../../governance/ProposalProcedure.js";
export interface ITxBody {
    inputs: [UTxO, ...UTxO[]];
    outputs: TxOut[];
    fee: Coin;
    ttl?: CanBeUInteger;
    certs?: Certificate[];
    withdrawals?: TxWithdrawals | ITxWithdrawals;
    protocolUpdate?: LegacyPPUpdateProposal;
    auxDataHash?: AuxiliaryDataHash;
    validityIntervalStart?: CanBeUInteger;
    mint?: Value;
    scriptDataHash?: ScriptDataHash;
    collateralInputs?: UTxO[];
    requiredSigners?: PubKeyHash[];
    network?: NetworkT;
    collateralReturn?: TxOut;
    totCollateral?: Coin;
    refInputs?: UTxO[];
    votingProcedures?: IVotingProcedures | VotingProcedures;
    proposalProcedures?: (ProposalProcedure | IProposalProcedure)[];
    currentTreasuryValue?: CanBeUInteger;
    donation?: CanBeUInteger;
}
export declare function isITxBody(body: Readonly<object>): body is ITxBody;
export declare class TxBody implements ITxBody, ToCbor, ToJson {
    readonly subCborRef?: SubCborRef | undefined;
    readonly inputs: [UTxO, ...UTxO[]];
    readonly outputs: TxOut[];
    readonly fee: bigint;
    readonly ttl?: bigint;
    readonly certs?: Certificate[];
    readonly withdrawals?: TxWithdrawals;
    readonly protocolUpdate?: LegacyPPUpdateProposal;
    readonly auxDataHash?: AuxiliaryDataHash;
    readonly validityIntervalStart?: bigint;
    readonly mint?: Value;
    readonly scriptDataHash?: ScriptDataHash;
    readonly collateralInputs?: UTxO[];
    readonly requiredSigners?: PubKeyHash[];
    readonly network?: NetworkT;
    readonly collateralReturn?: TxOut;
    readonly totCollateral?: bigint;
    readonly refInputs?: UTxO[];
    readonly votingProcedures?: VotingProcedures;
    readonly proposalProcedures?: ProposalProcedure[];
    readonly currentTreasuryValue?: bigint;
    readonly donation?: bigint;
    /**
     * getter
     */
    readonly hash: Hash32;
    /**
     *
     * @param body object describing the transaction
     * @throws only if the the `body` parameter does not respect the `ITxBody` interface
     *      **DOES NOT THROW** if the transaction is unbalanced; that needs to be checked using `TxBody.isValueConserved` static method
     */
    constructor(body: ITxBody, subCborRef?: SubCborRef | undefined);
    toCbor(): CborString;
    toCborObj(): CborObj;
    static fromCbor(cStr: CanBeCborString): TxBody;
    static fromCborObj(cObj: CborObj): TxBody;
    toJSON(): {
        inputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[];
        outputs: {
            address: `addr1${string}` | `addr_test1${string}`;
            value: import("../../ledger/index.js").ValueJson;
            datum: any;
            refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                type: import("../../index.js").LitteralScriptType;
                description: string;
                cborHex: string;
            } | undefined;
        }[];
        fee: string;
        ttl: string | undefined;
        certs: ({
            certType: "AuthCommitteeHot";
            coldCredential: {
                credentialType: string;
                hash: string;
            };
            hotCredential: {
                credentialType: string;
                hash: string;
            };
        } | {
            certType: "GenesisKeyDelegation";
            genesisHash: string;
            genesisDelegateHash: string;
            vrfKeyHash: string;
        } | {
            certType: "PoolRegistration";
            poolParams: {
                operator: string;
                vrfKeyHash: string;
                pledge: string;
                cost: string;
                margin: number;
                rewardAccount: import("../../ledger/index.js").StakeAddress<import("../../ledger/index.js").StakeAddressType>;
                owners: string[];
                relays: ({
                    type: string;
                    port: number | undefined;
                    ipv4: string | undefined;
                    ipv6: string | undefined;
                    dnsName?: undefined;
                } | {
                    type: string;
                    port: number | undefined;
                    dnsName: string;
                    ipv4?: undefined;
                    ipv6?: undefined;
                } | {
                    type: string;
                    dnsName: string;
                    port?: undefined;
                    ipv4?: undefined;
                    ipv6?: undefined;
                })[];
                metadata: {
                    poolMetadataUrl: string;
                    hash: string;
                } | undefined;
            };
        } | {
            certType: "PoolRetirement";
            poolHash: string;
            epoch: string;
        } | {
            certType: "RegistrationDeposit";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            deposit: string;
        } | {
            certType: "RegistrationDrep";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            coin: string;
            anchor: {
                url: string;
                anchorDataHash: string;
            } | null;
        } | {
            certType: "ResignCommitteeCold";
            coldCredential: {
                credentialType: string;
                hash: string;
            };
            anchor: {
                url: string;
                anchorDataHash: string;
            } | null;
        } | {
            certType: "StakeDeRegistration";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
        } | {
            certType: "StakeDelegation";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            poolKeyHash: string;
        } | {
            certType: "StakeRegistration";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
        } | {
            certType: "StakeRegistrationDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            poolKeyHash: string;
            coin: string;
        } | {
            certType: "StakeVoteDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            poolKeyHash: string;
            drep: {
                drepType: string;
            };
        } | {
            certType: "StakeVoteRegistrationDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            poolKeyHash: string;
            drep: {
                drepType: string;
            };
            coin: string;
        } | {
            certType: "UnRegistrationDeposit";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            deposit: string;
        } | {
            certType: "UnRegistrationDrep";
            drepCredential: {
                credentialType: string;
                hash: string;
            };
            coin: string;
        } | {
            certType: "UpdateDrep";
            drepCredential: {
                credentialType: string;
                hash: string;
            };
            anchor: {
                url: string;
                anchorDataHash: string;
            } | null;
        } | {
            certType: "VoteDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            drep: {
                drepType: string;
            };
        } | {
            certType: "VoteRegistrationDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            drep: {
                drepType: string;
            };
            coin: string;
        } | {
            certType: "MoveInstantRewards";
            source: "Reserves" | "Treasurery";
            destination: string | {
                stakeCreds: {
                    credentialType: string;
                    hash: string;
                };
                amount: string;
            }[];
        })[] | undefined;
        withdrawals: {
            [rewardAccount: string]: string;
        } | undefined;
        protocolUpdate: object | undefined;
        auxDataHash: string | undefined;
        validityIntervalStart: string | undefined;
        mint: import("../../ledger/index.js").ValueJson | undefined;
        scriptDataHash: string | undefined;
        collateralInputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[] | undefined;
        requiredSigners: string[] | undefined;
        network: NetworkT | undefined;
        collateralReturn: {
            address: `addr1${string}` | `addr_test1${string}`;
            value: import("../../ledger/index.js").ValueJson;
            datum: any;
            refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                type: import("../../index.js").LitteralScriptType;
                description: string;
                cborHex: string;
            } | undefined;
        } | undefined;
        totCollateral: string | undefined;
        refInputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[] | undefined;
    };
    toJson(): {
        inputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[];
        outputs: {
            address: `addr1${string}` | `addr_test1${string}`;
            value: import("../../ledger/index.js").ValueJson;
            datum: any;
            refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                type: import("../../index.js").LitteralScriptType;
                description: string;
                cborHex: string;
            } | undefined;
        }[];
        fee: string;
        ttl: string | undefined;
        certs: ({
            certType: "AuthCommitteeHot";
            coldCredential: {
                credentialType: string;
                hash: string;
            };
            hotCredential: {
                credentialType: string;
                hash: string;
            };
        } | {
            certType: "GenesisKeyDelegation";
            genesisHash: string;
            genesisDelegateHash: string;
            vrfKeyHash: string;
        } | {
            certType: "PoolRegistration";
            poolParams: {
                operator: string;
                vrfKeyHash: string;
                pledge: string;
                cost: string;
                margin: number;
                rewardAccount: import("../../ledger/index.js").StakeAddress<import("../../ledger/index.js").StakeAddressType>;
                owners: string[];
                relays: ({
                    type: string;
                    port: number | undefined;
                    ipv4: string | undefined;
                    ipv6: string | undefined;
                    dnsName?: undefined;
                } | {
                    type: string;
                    port: number | undefined;
                    dnsName: string;
                    ipv4?: undefined;
                    ipv6?: undefined;
                } | {
                    type: string;
                    dnsName: string;
                    port?: undefined;
                    ipv4?: undefined;
                    ipv6?: undefined;
                })[];
                metadata: {
                    poolMetadataUrl: string;
                    hash: string;
                } | undefined;
            };
        } | {
            certType: "PoolRetirement";
            poolHash: string;
            epoch: string;
        } | {
            certType: "RegistrationDeposit";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            deposit: string;
        } | {
            certType: "RegistrationDrep";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            coin: string;
            anchor: {
                url: string;
                anchorDataHash: string;
            } | null;
        } | {
            certType: "ResignCommitteeCold";
            coldCredential: {
                credentialType: string;
                hash: string;
            };
            anchor: {
                url: string;
                anchorDataHash: string;
            } | null;
        } | {
            certType: "StakeDeRegistration";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
        } | {
            certType: "StakeDelegation";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            poolKeyHash: string;
        } | {
            certType: "StakeRegistration";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
        } | {
            certType: "StakeRegistrationDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            poolKeyHash: string;
            coin: string;
        } | {
            certType: "StakeVoteDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            poolKeyHash: string;
            drep: {
                drepType: string;
            };
        } | {
            certType: "StakeVoteRegistrationDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            poolKeyHash: string;
            drep: {
                drepType: string;
            };
            coin: string;
        } | {
            certType: "UnRegistrationDeposit";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            deposit: string;
        } | {
            certType: "UnRegistrationDrep";
            drepCredential: {
                credentialType: string;
                hash: string;
            };
            coin: string;
        } | {
            certType: "UpdateDrep";
            drepCredential: {
                credentialType: string;
                hash: string;
            };
            anchor: {
                url: string;
                anchorDataHash: string;
            } | null;
        } | {
            certType: "VoteDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            drep: {
                drepType: string;
            };
        } | {
            certType: "VoteRegistrationDeleg";
            stakeCredential: {
                credentialType: string;
                hash: string;
            };
            drep: {
                drepType: string;
            };
            coin: string;
        } | {
            certType: "MoveInstantRewards";
            source: "Reserves" | "Treasurery";
            destination: string | {
                stakeCreds: {
                    credentialType: string;
                    hash: string;
                };
                amount: string;
            }[];
        })[] | undefined;
        withdrawals: {
            [rewardAccount: string]: string;
        } | undefined;
        protocolUpdate: object | undefined;
        auxDataHash: string | undefined;
        validityIntervalStart: string | undefined;
        mint: import("../../ledger/index.js").ValueJson | undefined;
        scriptDataHash: string | undefined;
        collateralInputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[] | undefined;
        requiredSigners: string[] | undefined;
        network: NetworkT | undefined;
        collateralReturn: {
            address: `addr1${string}` | `addr_test1${string}`;
            value: import("../../ledger/index.js").ValueJson;
            datum: any;
            refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                type: import("../../index.js").LitteralScriptType;
                description: string;
                cborHex: string;
            } | undefined;
        } | undefined;
        totCollateral: string | undefined;
        refInputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[] | undefined;
    };
    /**
     * tests that
     * inputs + withdrawals + refund + mints === outputs + burns + deposit + fee
     *
     * @todo add mints and burns
     * @deprecated until mints and burns are added
     */
    static isValueConserved(tx: TxBody): boolean;
}

import { ToCbor, CborString, CborObj, CanBeCborString } from "@harmoniclabs/cbor";
import { PubKeyHash } from "../../credentials/index.js";
import { AuxiliaryDataHash, ScriptDataHash, Hash32 } from "../../hashes/index.js";
import { Coin, AnyCertificate, TxWithdrawals, ITxWithdrawals, ProtocolUpdateProposal, Value, NetworkT } from "../../ledger/index.js";
import { ToJson } from "../../utils/ToJson.js";
import { CanBeUInteger } from "../../utils/ints.js";
import { UTxO, TxOut } from "./output/index.js";
export interface ITxBody {
    inputs: [UTxO, ...UTxO[]];
    outputs: TxOut[];
    fee: Coin;
    ttl?: CanBeUInteger;
    certs?: AnyCertificate[];
    withdrawals?: TxWithdrawals | ITxWithdrawals;
    protocolUpdate?: ProtocolUpdateProposal;
    auxDataHash?: AuxiliaryDataHash;
    validityIntervalStart?: CanBeUInteger;
    mint?: Value;
    scriptDataHash?: ScriptDataHash;
    collateralInputs?: UTxO[];
    requiredSigners?: PubKeyHash[];
    network?: NetworkT;
    collateralReturn?: TxOut;
    totCollateral?: Coin;
    refInputs?: UTxO[];
}
export declare function isITxBody(body: Readonly<object>): body is ITxBody;
export declare class TxBody implements ITxBody, ToCbor, ToJson {
    readonly inputs: [UTxO, ...UTxO[]];
    readonly outputs: TxOut[];
    readonly fee: bigint;
    readonly ttl?: bigint;
    readonly certs?: AnyCertificate[];
    readonly withdrawals?: TxWithdrawals;
    readonly protocolUpdate?: ProtocolUpdateProposal;
    readonly auxDataHash?: AuxiliaryDataHash;
    readonly validityIntervalStart?: bigint;
    readonly mint?: Value;
    readonly scriptDataHash?: ScriptDataHash;
    readonly collateralInputs?: UTxO[];
    readonly requiredSigners?: PubKeyHash[];
    readonly network?: NetworkT;
    readonly collateralReturn?: TxOut;
    readonly totCollateral?: bigint;
    readonly refInputs?: UTxO[];
    /**
     * getter
     */
    readonly hash: Hash32;
    /**
     *
     * @param body object describing the transaction
     * @throws only if the the `body` parameter does not respect the `ITxBody` interface
     *      **DOES NOT THROW** if the transaction is unbalanced; that needs to be checked using `TxBody.isValueConserved` static method
     */
    constructor(body: ITxBody);
    toCbor(): CborString;
    toCborObj(): CborObj;
    static fromCbor(cStr: CanBeCborString): TxBody;
    static fromCborObj(cObj: CborObj): TxBody;
    toJson(): {
        inputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[];
        outputs: {
            address: `addr1${string}` | `addr_test1${string}`;
            value: import("../../ledger/index.js").ValueJson;
            datum: any;
            refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                type: import("../../index.js").LitteralScriptType;
                description: string;
                cborHex: string;
            } | undefined;
        }[];
        fee: string;
        ttl: string | undefined;
        certs: ({
            certType: "StakeRegistration" | "StakeDeRegistration" | "StakeDelegation" | "PoolRegistration" | "PoolRetirement" | "GenesisKeyDelegation" | "MoveInstantRewards";
            stakeCredentials: {
                type: string;
                hash: string;
                pointer?: undefined;
            } | {
                type: string;
                pointer: string[];
                hash?: undefined;
            };
            poolKeyHash?: undefined;
            poolParams?: undefined;
            epoch?: undefined;
            genesisHash?: undefined;
            genesisDelegateHash?: undefined;
            vrfKeyHash?: undefined;
            mirCert?: undefined;
        } | {
            certType: "StakeRegistration" | "StakeDeRegistration" | "StakeDelegation" | "PoolRegistration" | "PoolRetirement" | "GenesisKeyDelegation" | "MoveInstantRewards";
            stakeCredentials: {
                type: string;
                hash: string;
                pointer?: undefined;
            } | {
                type: string;
                pointer: string[];
                hash?: undefined;
            };
            poolKeyHash: string;
            poolParams?: undefined;
            epoch?: undefined;
            genesisHash?: undefined;
            genesisDelegateHash?: undefined;
            vrfKeyHash?: undefined;
            mirCert?: undefined;
        } | {
            certType: "StakeRegistration" | "StakeDeRegistration" | "StakeDelegation" | "PoolRegistration" | "PoolRetirement" | "GenesisKeyDelegation" | "MoveInstantRewards";
            poolParams: {
                operator: string;
                vrfKeyHash: string;
                pledge: string;
                cost: string;
                margin: number;
                rewardAccount: string;
                owners: string[];
                relays: ({
                    type: string;
                    port: number | undefined;
                    ipv4: string | undefined;
                    ipv6: string | undefined;
                    dnsName?: undefined;
                } | {
                    type: string;
                    port: number | undefined;
                    dnsName: string;
                    ipv4?: undefined;
                    ipv6?: undefined;
                } | {
                    type: string;
                    dnsName: string;
                    port?: undefined;
                    ipv4?: undefined;
                    ipv6?: undefined;
                })[];
                metadata: {
                    poolMetadataUrl: string;
                    hash: string;
                } | undefined;
            };
            stakeCredentials?: undefined;
            poolKeyHash?: undefined;
            epoch?: undefined;
            genesisHash?: undefined;
            genesisDelegateHash?: undefined;
            vrfKeyHash?: undefined;
            mirCert?: undefined;
        } | {
            certType: "StakeRegistration" | "StakeDeRegistration" | "StakeDelegation" | "PoolRegistration" | "PoolRetirement" | "GenesisKeyDelegation" | "MoveInstantRewards";
            poolKeyHash: string;
            epoch: number;
            stakeCredentials?: undefined;
            poolParams?: undefined;
            genesisHash?: undefined;
            genesisDelegateHash?: undefined;
            vrfKeyHash?: undefined;
            mirCert?: undefined;
        } | {
            certType: "StakeRegistration" | "StakeDeRegistration" | "StakeDelegation" | "PoolRegistration" | "PoolRetirement" | "GenesisKeyDelegation" | "MoveInstantRewards";
            genesisHash: string;
            genesisDelegateHash: string;
            vrfKeyHash: string;
            stakeCredentials?: undefined;
            poolKeyHash?: undefined;
            poolParams?: undefined;
            epoch?: undefined;
            mirCert?: undefined;
        } | {
            certType: "StakeRegistration" | "StakeDeRegistration" | "StakeDelegation" | "PoolRegistration" | "PoolRetirement" | "GenesisKeyDelegation" | "MoveInstantRewards";
            mirCert: {
                source: "Reserves" | "Treasurery";
                destination: string | {
                    stakeCreds: {
                        type: string;
                        hash: string;
                        pointer?: undefined;
                    } | {
                        type: string;
                        pointer: string[];
                        hash?: undefined;
                    };
                    amount: string;
                }[];
            };
            stakeCredentials?: undefined;
            poolKeyHash?: undefined;
            poolParams?: undefined;
            epoch?: undefined;
            genesisHash?: undefined;
            genesisDelegateHash?: undefined;
            vrfKeyHash?: undefined;
        })[] | undefined;
        withdrawals: {
            [rewardAccount: string]: string;
        } | undefined;
        protocolUpdate: object | undefined;
        auxDataHash: string | undefined;
        validityIntervalStart: string | undefined;
        mint: import("../../ledger/index.js").ValueJson | undefined;
        scriptDataHash: string | undefined;
        collateralInputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[] | undefined;
        requiredSigners: string[] | undefined;
        network: NetworkT | undefined;
        collateralReturn: {
            address: `addr1${string}` | `addr_test1${string}`;
            value: import("../../ledger/index.js").ValueJson;
            datum: any;
            refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                type: import("../../index.js").LitteralScriptType;
                description: string;
                cborHex: string;
            } | undefined;
        } | undefined;
        totCollateral: string | undefined;
        refInputs: {
            utxoRef: import("./output/index.js").UTxORefJson;
            resolved: {
                address: `addr1${string}` | `addr_test1${string}`;
                value: import("../../ledger/index.js").ValueJson;
                datum: any;
                refScript: import("../../index.js").ScriptSignature | import("../../index.js").ScriptAll | import("../../index.js").ScriptAny | import("../../index.js").ScriptAtLeast | import("../../index.js").ScriptAfter | import("../../index.js").ScriptBefore | {
                    type: import("../../index.js").LitteralScriptType;
                    description: string;
                    cborHex: string;
                } | undefined;
            };
        }[] | undefined;
    };
    /**
     * tests that
     * inputs + withdrawals + refund + mints === outputs + burns + deposit + fee
     *
     * @todo add mints and burns
     * @deprecated until mints and burns are added
     */
    static isValueConserved(tx: TxBody): boolean;
}
